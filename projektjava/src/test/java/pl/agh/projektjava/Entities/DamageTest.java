package pl.agh.projektjava.Entities;

import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import org.springframework.boot.test.context.SpringBootTest;

import java.time.LocalDate;

import static org.hamcrest.MatcherAssert.assertThat;
import static org.hamcrest.Matchers.samePropertyValuesAs;

import static org.junit.jupiter.api.Assertions.*;

@SpringBootTest
class DamageTest {

    @Test
    public void RegisterNewDamage_FieldsGiven_ShouldCreateNewDamageObject(){
        Damage damage = new Damage();

        damage.setId(1L);
        damage.setDescription("abcd");
        damage.setCar(new Car("Opel", "2001", "abcd", "SY1SL65848Z411439",
                "KR-XY67", 200, Car.Status.available));
        damage.setDate("09-02-2022");
        damage.setPrice(10000);

        Assertions.assertEquals(1L, damage.getId());
        Assertions.assertEquals("abcd", damage.getDescription());
        assertThat(new Car("Opel", "2001", "abcd", "SY1SL65848Z411439",
                "KR-XY67", 200, Car.Status.available),
                samePropertyValuesAs(damage.getCar()));
        assertThat(LocalDate.of(2022, 2, 9), samePropertyValuesAs(damage.getDate()));
        Assertions.assertEquals(10000, damage.getPrice());
    }
}